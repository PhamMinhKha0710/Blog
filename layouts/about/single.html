{{ define "content" }}
<div class="portfolio-page">
  <!-- Particles Background -->
  <div class="particles-bg">
    {{ range seq 30 }}
    <div class="particle" style="left: {{ mul (index (slice 5 15 25 35 45 55 65 75 85 95) (mod . 10)) 1 }}%; top: {{ mul (index (slice 10 30 50 70 90) (mod . 5)) 1 }}%; animation-delay: {{ mul . 0.5 }}s;"></div>
    {{ end }}
  </div>

  <div class="portfolio-container">
    <!-- 1. HERO SECTION -->
    <section class="hero-section" id="hero">
      <div class="hero-content">
        <div class="hero-text">
          <h1 class="hero-title">
            <span class="greeting">{{ .Params.greeting | default "Hello, I'm" }}</span>
            <span class="name">{{ .Site.Params.author.name }}</span>
          </h1>
          <h2 class="hero-position">Crafting meaning from logic</h2>
          <p class="hero-tagline">{{ .Params.heroTagline | default "I design scalable backend systems with performance and precision." }}</p>
          
          <div class="hero-buttons">
            <a href="#projects" class="btn-primary">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
                <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
              </svg>
              View Projects
            </a>
            {{ if .Params.resumeLink }}
            <a href="{{ .Params.resumeLink }}" class="btn-secondary" target="_blank">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                <polyline points="7 10 12 15 17 10"></polyline>
                <line x1="12" y1="15" x2="12" y2="3"></line>
              </svg>
              Download Resume
            </a>
            {{ end }}
            <a href="https://github.com/{{ .Params.githubUsername | default "PhamMinhKha0710" }}" class="btn-icon" target="_blank">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.953 0-1.096.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.701.115 2.502.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.099 2.65.64.7 1.028 1.592 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"></path>
              </svg>
            </a>
          </div>
        </div>
        
        <div class="hero-avatar">
          <div class="avatar-wrapper">
            {{ $avatar := "/images/avatar.png" }}
            <img src="{{ $avatar }}" alt="{{ .Site.Params.author.name }}" loading="eager">
          </div>
        </div>
      </div>
    </section>

    <!-- 2. ABOUT ME SECTION - COMPACT -->
    <section class="about-section" id="about">
      <div class="section-header">
        <span class="section-number">01</span>
        <h2 class="section-title">About Me</h2>
      </div>
      
      <div class="about-compact">
        <!-- Profile Info Bar -->
        <div class="profile-bar">
          <div class="profile-avatar-mini">
            <img src="/images/avatar.png" alt="{{ .Site.Params.author.name }}">
            <span class="status-dot-mini"></span>
          </div>
          <div class="profile-identity">
            <h3>{{ .Site.Params.author.name }}</h3>
            <p>{{ .Params.position | default "Backend Developer" }}</p>
          </div>
          {{ if .Params.stats }}
          <div class="stats-inline">
            {{ range .Params.stats }}
            <div class="stat-inline">
              <strong>{{ .value }}</strong>
              <span>{{ .label }}</span>
            </div>
            {{ end }}
          </div>
          {{ end }}
        </div>
        
        <!-- Main Content -->
        <div class="about-main">
          {{ .Content }}
          
          <!-- Download CV Button -->
          {{ if .Params.resumeLink }}
          <div class="cv-download">
            <a href="{{ .Params.resumeLink }}" class="btn-download-cv" target="_blank" download>
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                <polyline points="7 10 12 15 17 10"></polyline>
                <line x1="12" y1="15" x2="12" y2="3"></line>
              </svg>
              <span>Download CV</span>
            </a>
          </div>
          {{ end }}
        </div>
      </div>
    </section>

    <!-- 3. TECH STACK SECTION - 2 COLUMN LAYOUT -->
    <section class="tech-stack-section" id="tech-stack">
      <div class="section-header">
        <span class="section-number">02</span>
        <h2 class="section-title">Tech Stack</h2>
      </div>
      
      {{ if .Params.techCategories }}
      <div class="tech-stack-grid">
        {{ range .Params.techCategories }}
        <div class="tech-category-box{{ if eq .category "üß† AI & Tools" }} tech-category-wide{{ end }}">
          <h3 class="tech-category-title">{{ .category }}</h3>
          <div class="tech-badges">
            {{ range .technologies }}
            <div class="tech-badge">
              <div class="tech-badge-icon">
                {{ if hasPrefix .logo "/" }}
                  <img src="{{ .logo }}" alt="{{ .name }}" />
                {{ else }}
                  {{ .logo | safeHTML }}
                {{ end }}
              </div>
              <span class="tech-badge-name">{{ .name }}</span>
            </div>
            {{ end }}
          </div>
        </div>
        {{ end }}
      </div>
      {{ end }}
    </section>

    <!-- 4. PROJECTS SECTION -->
    <section class="projects-section" id="projects">
      <div class="section-header">
        <span class="section-number">03</span>
        <h2 class="section-title">Featured Projects</h2>
      </div>
      
      <div class="projects-grid">
        {{ range .Params.projects }}
        <div class="project-card">
          <div class="project-image">
            <img src="{{ .image }}" alt="{{ .title }}" loading="lazy">
            <div class="project-overlay">
              <div class="project-links">
                {{ if .github }}
                <a href="{{ .github }}" target="_blank" class="project-link">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                  </svg>
                </a>
                {{ end }}
                {{ if .demo }}
                <a href="{{ .demo }}" target="_blank" class="project-link">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                    <polyline points="15 3 21 3 21 9"></polyline>
                    <line x1="10" y1="14" x2="21" y2="3"></line>
                  </svg>
                </a>
                {{ end }}
              </div>
            </div>
          </div>
          <div class="project-info">
            <h3 class="project-title">{{ .title }}</h3>
            <p class="project-description">{{ .description }}</p>
            <div class="project-stack">
              {{ range .stack }}
              <span class="stack-tag">{{ . }}</span>
              {{ end }}
            </div>
          </div>
        </div>
        {{ end }}
      </div>
    </section>

    <!-- 5. SYSTEM DESIGN / ARCHITECTURE SECTION -->
    <section class="architecture-section" id="architecture">
      <div class="section-header">
        <span class="section-number">04</span>
        <h2 class="section-title">System Architecture</h2>
      </div>
      
      {{ if .Params.architectureIntro }}
      <p class="architecture-intro">{{ .Params.architectureIntro }}</p>
      {{ end }}
      
      <!-- Modern Architecture Diagram -->
      <div class="architecture-diagram-modern">
        <div class="arch-layer-container">
          <!-- Layer 1: Client -->
          <div class="arch-layer">
            <div class="layer-icon">üåê</div>
            <div class="layer-content">
              <h4 class="layer-title">Client Layer</h4>
              <p class="layer-desc">Web, Mobile, Desktop Apps</p>
            </div>
            <div class="layer-tech">React ‚Ä¢ Next.js ‚Ä¢ TypeScript</div>
          </div>
          
          <div class="arch-connector">
            <div class="connector-line"></div>
            <div class="connector-label">HTTP/HTTPS</div>
          </div>
          
          <!-- Layer 2: API Gateway -->
          <div class="arch-layer">
            <div class="layer-icon">üö™</div>
            <div class="layer-content">
              <h4 class="layer-title">API Gateway</h4>
              <p class="layer-desc">Authentication, Rate Limiting, Routing</p>
            </div>
            <div class="layer-tech">JWT ‚Ä¢ OAuth2 ‚Ä¢ API Versioning</div>
          </div>
          
          <div class="arch-connector">
            <div class="connector-line"></div>
            <div class="connector-label">REST/GraphQL</div>
          </div>
          
          <!-- Layer 3: Application Layer -->
          <div class="arch-layer featured">
            <div class="layer-icon">‚ö°</div>
            <div class="layer-content">
              <h4 class="layer-title">Application Layer</h4>
              <p class="layer-desc">Business Logic, CQRS, Clean Architecture</p>
            </div>
            <div class="layer-tech">.NET Core ‚Ä¢ MediatR ‚Ä¢ FluentValidation</div>
          </div>
          
          <div class="arch-connector-split">
            <div class="connector-branch">
              <div class="connector-line"></div>
              <div class="connector-label">Cache</div>
            </div>
            <div class="connector-branch">
              <div class="connector-line"></div>
              <div class="connector-label">Storage</div>
            </div>
          </div>
          
          <!-- Layer 4: Data Layer -->
          <div class="arch-layer-group">
            <div class="arch-layer-small">
              <div class="layer-icon-small">‚ö°</div>
              <h5>Cache Layer</h5>
              <span>Redis ‚Ä¢ Memory</span>
            </div>
            <div class="arch-layer-small">
              <div class="layer-icon-small">üóÑÔ∏è</div>
              <h5>Data Layer</h5>
              <span>SQL ‚Ä¢ NoSQL</span>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Architecture Principles -->
      {{ if .Params.architecturePoints }}
      <div class="architecture-principles">
        <h3 class="principles-title">Architecture Principles</h3>
        <div class="principles-grid">
          {{ range $index, $point := .Params.architecturePoints }}
          <div class="principle-card">
            <div class="principle-number">{{ add $index 1 }}</div>
            <div class="principle-content">
              <p>{{ $point }}</p>
            </div>
          </div>
          {{ end }}
        </div>
      </div>
      {{ end }}
    </section>

    <!-- 6. EXPERIENCE SECTION -->
    <section class="experience-section" id="experience">
      <div class="section-header">
        <span class="section-number">05</span>
        <h2 class="section-title">Experience & Education</h2>
      </div>
      
      <div class="timeline">
        {{ range .Params.experiences }}
        <div class="timeline-item">
          <div class="timeline-marker"></div>
          <div class="timeline-content">
            <span class="timeline-date">{{ .period }}</span>
            <h3 class="timeline-role">{{ .role }}</h3>
            <p class="timeline-company">{{ .company }}</p>
            <ul class="timeline-achievements">
              {{ range .achievements }}
              <li>{{ . }}</li>
              {{ end }}
            </ul>
          </div>
        </div>
        {{ end }}
      </div>
    </section>

    <!-- 7. CONTACT SECTION - COMPACT DESIGN -->
    <section class="contact-section-modern" id="contact">
      <div class="contact-container-compact">
        <div class="contact-header-compact">
          <span class="contact-badge">Let's Connect</span>
          <h2 class="contact-title-modern">Get In Touch</h2>
          {{ if .Params.contactIntro }}
          <p class="contact-subtitle">{{ .Params.contactIntro }}</p>
          {{ end }}
        </div>
        
        <!-- Compact Contact Methods -->
        <div class="contact-methods-compact">
          {{ range .Params.contacts }}
          <a href="{{ .url }}" class="contact-item-compact" target="_blank" rel="noopener noreferrer">
            <div class="contact-icon-compact">
              {{ .icon | safeHTML }}
            </div>
            <div class="contact-details-compact">
              <span class="contact-label-compact">{{ .label }}</span>
              <span class="contact-value-compact">{{ .value }}</span>
            </div>
            <div class="contact-arrow">‚Üí</div>
          </a>
          {{ end }}
        </div>
        
        <!-- Quick CTA -->
        <div class="contact-cta-compact">
          <p class="cta-text">Available for opportunities and collaborations</p>
          <div class="availability-badge">
            <span class="status-dot"></span>
            <span>Open to work</span>
          </div>
        </div>
      </div>
    </section>

    <!-- 8. FOOTER -->

  </div>
</div>
{{ end }}
